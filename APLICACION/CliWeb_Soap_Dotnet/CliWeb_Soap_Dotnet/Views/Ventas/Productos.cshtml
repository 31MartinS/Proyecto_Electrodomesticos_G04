@model ClienteWeb.Models.VentaProductosViewModel

@{
    ViewData["Title"] = "Lista de productos";
}

<div style="text-align:center; margin-top:40px;">

    <!-- Títulos -->
    <h1 style="font-size:40px; font-weight:700; margin-bottom:10px;">
        Electrodomésticos
    </h1>
    <h2 style="font-size:30px; font-weight:600; margin-bottom:10px;">
        Lista de Productos
    </h2>

    <p style="font-size:18px; margin-bottom:30px;">
        <strong>Cédula cliente:</strong> @Model.Cedula
    </p>

    <!-- Tabla de productos -->
    <table style="
            width:100%;
            max-width:1000px;
            margin:0 auto 40px auto;
            border-collapse:collapse;
            font-size:18px;">
        <thead>
            <tr>
                <th style="border-bottom:3px solid #000; padding:12px; text-align:left;">
                    Producto
                </th>
                <th style="border-bottom:3px solid #000; padding:12px; text-align:center;">
                    Precio
                </th>
                <th style="border-bottom:3px solid #000; padding:12px; text-align:center;">
                    Formas de Pago
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var p in Model.Productos)
            {
                <tr>
                    <!-- Producto: imagen + nombre -->
                    <td style="border-bottom:2px solid #000; padding:16px;">
                        <div style="display:flex; align-items:center; gap:16px;">
                            @if (!string.IsNullOrEmpty(p.ImageUrl))
                            {
                                <img src="@p.ImageUrl"
                                     alt="Imagen @p.Nombre"
                                     style="
                                        width:70px;
                                        height:70px;
                                        border-radius:10px;
                                        object-fit:cover;
                                        background:#eef1f7;" />
                            }
                            else
                            {
                                <div style="
                                        width:70px;
                                        height:70px;
                                        border-radius:10px;
                                        background:#eef1f7;
                                        display:flex;
                                        align-items:center;
                                        justify-content:center;
                                        color:#888;
                                        font-size:12px;">
                                    Sin imagen
                                </div>
                            }

                            <span style="font-size:20px;">
                                @p.Nombre
                            </span>
                        </div>
                    </td>

                    <!-- Precio -->
                    <td style="
                            border-bottom:2px solid #000;
                            padding:16px;
                            text-align:center;
                            font-size:20px;">
                        @p.PrecioVenta.ToString("C2")
                    </td>

                    <!-- Formas de pago -->
                    <td style="
                            border-bottom:2px solid #000;
                            padding:16px;
                            text-align:center;">
                        <!-- Efectivo -->
                        <a asp-action="Efectivo"
                           asp-route-cedula="@Model.Cedula"
                           asp-route-idProducto="@p.IdProducto"
                           style="
                                display:inline-block;
                                padding:10px 28px;
                                border-radius:999px;
                                background:#7CFF8A;
                                text-decoration:none;
                                color:#000;
                                font-weight:600;
                                margin-right:10px;">
                            Efectivo
                        </a>

                        <!-- Crédito -->
                        <a asp-action="Credito"
                           asp-route-cedula="@Model.Cedula"
                           asp-route-idProducto="@p.IdProducto"
                           style="
                                display:inline-block;
                                padding:10px 28px;
                                border-radius:999px;
                                background:#FFD766;
                                text-decoration:none;
                                color:#000;
                                font-weight:600;">
                            Crédito Directo
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <!-- Botón Volver -->
    <a asp-action="Cedula"
       style="
            display:inline-block;
            margin-top:10px;
            width:40%;
            max-width:360px;
            padding:18px 30px;
            border-radius:999px;
            background:#dcdcdc;
            color:#000;
            text-decoration:none;
            font-size:22px;
            font-weight:600;">
        Volver
    </a>
</div>
