@model ClienteWeb.Models.VentaCreditoViewModel

@{
    ViewData["Title"] = "Pago con crédito";
    var aprobado = Model.Evaluacion?.Aprobado ?? false;
}

<div class="text-center mt-4">
    <h1 style="font-size:40px; font-weight:700;">Pago con Crédito</h1>

    @if (aprobado)
    {
        <div style="
                background:#00C853;
                color:white;
                padding:20px;
                border-radius:5px;
                width:60%;
                margin:20px auto;
                font-size:22px;
                font-weight:600;">
            Usuario elegible para crédito
        </div>

        <div style="font-size:22px; margin-bottom:50px;">
            <p>
                <strong>Monto Máximo Aprobado:</strong>
                <span style="
                    display:inline-block;
                    padding:12px 25px;
                    background:#eef1f7;
                    border-radius:20px;">
                    @Model.Evaluacion.MontoMaximo.ToString("C2")
                </span>
            </p>

            <p>
                <strong>Seleccione número de cuotas:</strong>
                <select asp-for="PlazoMesesSeleccionado"
                        style="
                            padding:12px 20px;
                            border-radius:20px;
                            background:#eef1f7;
                            font-weight:600;
                            border:1px solid #ccc;">
                    @foreach (var plazo in Model.OpcionesPlazo)
                    {
                        <option value="@plazo">@plazo</option>
                    }
                </select>
            </p>
        </div>

        <form asp-action="Credito" method="post">

            <!-- Campos ocultos -->
            <input type="hidden" asp-for="Cedula" />
            <input type="hidden" asp-for="IdProducto" />
            <input type="hidden" asp-for="NombreProducto" />
            <input type="hidden" asp-for="PrecioProducto" />
            <input type="hidden" asp-for="IdCreditoBanco" />

            <button type="submit"
                    style="
                        background:#81F781;
                        padding:18px 30px;
                        border:none;
                        width:50%;
                        border-radius:30px;
                        font-size:22px;
                        font-weight:600;
                        margin-top:20px;">
                Confirmar Pago y Generar Factura
            </button>
        </form>

        <div class="text-center mt-4">
            <a asp-action="Productos" asp-route-cedula="@Model.Cedula"
               style="
                    background:#dcdcdc;
                    padding:18px 40px;
                    border-radius:30px;
                    color:black;
                    font-size:22px;
                    font-weight:600;">
                Volver
            </a>
        </div>
    }
    else
    {
        <div style="
                background:#FF5252;
                color:white;
                padding:20px;
                border-radius:5px;
                width:60%;
                margin:20px auto;
                font-size:22px;
                font-weight:600;">
            No es elegible para crédito <br />
            @Model.Evaluacion?.Mensaje
        </div>

        <a asp-action="Productos" asp-route-cedula="@Model.Cedula"
           style="
                background:#dcdcdc;
                padding:18px 40px;
                border-radius:30px;
                color:black;
                font-size:22px;
                font-weight:600;">
            Volver
        </a>
    }
</div>
